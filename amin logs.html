<!DOCTYPE html>
<html>
<head>
  <title>Admin Viewer</title>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyCNWmCZQ-TwLslCItPl9FvKbpOTLfH2W0g",
      authDomain: "hacker-login-5da91.firebaseapp.com",
      projectId: "hacker-login-5da91",
      storageBucket: "hacker-login-5da91.appspot.com",
      messagingSenderId: "152292126312",
      appId: "1:152292126312:web:f63ef2e514b1e07ef9e172"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    async function loadLogs() {
      const logsContainer = document.getElementById("logs");
      const querySnapshot = await getDocs(collection(db, "deviceLogs"));
      logsContainer.innerHTML = "";

      querySnapshot.forEach((doc) => {
        const data = doc.data();
        const card = document.createElement("div");
        card.className = "card";
        card.innerHTML = `
          <strong>Time:</strong> ${data.timestamp}<br>
          <strong>Platform:</strong> ${data.platform}<br>
          <strong>Battery:</strong> ${data.battery}<br>
          <strong>Memory:</strong> ${data.deviceMemory}<br>
          <strong>CPU Cores:</strong> ${data.cpuCores}<br>
          <strong>Timezone:</strong> ${data.timezone}<br>
          <strong>IP:</strong> ${data.ip}<br>
          <strong>Location:</strong> ${data.location}<br>
          <strong>User Agent:</strong><br><span style="font-size: 0.8em;">${data.userAgent}</span>
        `;
        logsContainer.appendChild(card);
      });
    }

    window.onload = loadLogs;
  </script>
  <style>
    body {
      background: #111;
      color: #eee;
      font-family: monospace;
      padding: 20px;
    }
    h1 {
      color: #00FF00;
    }
    .card {
      background: #222;
      border: 1px solid #333;
      padding: 10px;
      margin: 10px 0;
      border-radius: 5px;
    }
  </style>
</head>
<body>
  <h1>ðŸ“¡ Device Logs</h1>
  <div id="logs">Loading...</div>
</body>
</html>
